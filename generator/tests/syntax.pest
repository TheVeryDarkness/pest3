/// Regular rule.
Regular = ('0'..'9')+

~ = " "*

/// Atomic rule.
Atomic = CharRange+ ~ "+" ~ CharRange+

/// Silent rule.
NonAtomic = "(" ^ ")"

ExactString     =  "r#"
CharRange       =  '0'..'9'
Any             =  pest::any
Seq             =  "1" ~ '2'..'9' ~ "."
Choice          =  "a" | "b"+ ~ RepAtLeastOnce | &"c" ~ Choice ~ Rep ~ Opt | Peek | PeekLeft | PeekRight | PeekLeftRight | Drop | PeekAll
Rep             =  "b"*
RepAtLeastOnce  =  '0'..'9'+
Opt             =  "?"?
RepExact        =  RepAtLeastOnce{3}
RepLeft         =  RepExact{1..}
RepRight        =  RepLeft{..2}
RepLeftRight    =  RepRight{1..2}

Pos = &(pest::SOI ~ RepLeftRight{2..4})
Neg = !(pest::EOI ~ Pos)

Push = pest::push(RepLeft* ~ Neg ~ ExactString+ ~ Push ~ Pop ~ Push ~ PopAll)

Pop    = pest::pop
PopAll = pest::pop_all

Peek          = pest::peek
PeekUnlimited = pest::peek[..]
PeekLeft      = pest::peek[1..]
PeekRight     = pest::peek[..]
PeekLeftRight = pest::peek[1..2]

Drop = pest::drop

PeekAll = pest::peek_all
